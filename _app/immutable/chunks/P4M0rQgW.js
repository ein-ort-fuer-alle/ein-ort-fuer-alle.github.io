import{x as R,h as A,y as l,E as b,z as g,H as B,A as I,B as N,C as x,D as E,F as D,G as F,v as H,I as O,S as Y}from"./B9wwaq4J.js";import{B as _}from"./GV0jjDtS.js";function C(s,r,n=!1){A&&l();var c=new _(s),i=n?b:0;function a(f,T){if(A){const h=g(s);var t;if(h===B?t=0:h===I?t=!1:t=parseInt(h.substring(1)),f!==t){var u=N();x(u),c.anchor=u,E(!1),c.ensure(f,T),E(!0);return}}c.ensure(f,T)}R(()=>{var f=!1;r((T,t=0)=>{f=!0,a(t,T)}),f||a(!1,null)},i)}function S(s,r){return s===r||(s==null?void 0:s[Y])===r}function L(s={},r,n,c){return D(()=>{var i,a;return F(()=>{i=a,a=[],H(()=>{s!==n(...a)&&(r(s,...a),i&&S(n(...i),s)&&r(null,...i))})}),()=>{O(()=>{a&&S(n(...a),s)&&r(null,...a)})}}),s}export{L as b,C as i};
